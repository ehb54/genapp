// -- progress.output --

ga.layout.fields[ "__fields:id__" ] = {};
ga.layout.fields[ "__fields:id__" ].lhtml = '<label for="__fields:id__">__fields:label__ </label>';

ga.tmp.dhtml = {};
ga.tmp.dhtml.org =
  '<progress name="__fields:id__" id="__fields:id__" value="0"__~fields:max{ max="__fields:max__"}__~fields:help{ class="help_link"}></progress>'
  __~fields:help{+ '<span class="help">__fields:help__</span>'}
  ;  

ga.tmp.dhtml.bootstrap =
  '<div class="progress help_link"><div id="__fields:id__" class="progress-bar" role="progressbar" style="width:0%"></div></div>'
  __~fields:help{+ '<span class="help">__fields:help__</span>'}
  ;

__!bootstrap:package{ga.layout.fields[ "__fields:id__" ].dhtml = ga.tmp.dhtml.org;}
__~bootstrap:package{ga.layout.fields[ "__fields:id__" ].dhtml = ga.tmp.dhtml.bootstrap;}
delete ga.tmp.dhtml;

ga.layout.fields[ "__fields:id__" ].eval  =
  'ga.value.setLastValue( "__moduleid___output", "#__fields:id__" );'
  ;

__~bootstrap:package{ga.layout.fields[ "__fields:id__" ].setval = function(val){document.getElementById( '__fields:id__').style.width = (100*val).toString() + "%";}}

/* old way

<tr><td><label for="__fields:id__">__fields:label__ </label></td><td><progress name="__fields:id__" id="__fields:id__" value="0"__~fields:max{ max="__fields:max__"}__~fields:help{ class="help_link"><span class="help">__fields:help__</span}></progress></td></tr>
<script>
ga.value.setLastValue( "__moduleid___output", "#__fields:id__" );
end script>
*/

// -- end progress.output --
